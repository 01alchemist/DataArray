var nid;
(function(d){(function(d){var m=function(){function a(){}a.allocateUint8=function(c){a.u8=new Uint8Array(c)};a.allocateUint16=function(c){a.u16=new Uint16Array(c)};a.allocateUint32=function(c){a.u32=new Uint32Array(c)};a.getUint8=function(){a.u8||a.allocateUint8(10);return a.u8Index++};a.getUint16=function(){a.u16||a.allocateUint16(24);return a.u16Index++};a.getUint32=function(){a.u32||a.allocateUint32(10);return a.u32Index++};a.u8Index=0;a.u16Index=0;a.u32Index=0;return a}();d.MEMORY=m})(d.utils||(d.utils=
{}))})(nid||(nid={}));
(function(d){var b=d.utils.MEMORY,m=function(){function a(){this.posSlotDecoder=d.BitTreeDecoder.constructArray(6,d.LZMA.kNumLenToPosStates);this.alignDecoder=new d.BitTreeDecoder(d.LZMA.kNumAlignBits);this.posDecoders=new Uint16Array(1+d.LZMA.kNumFullDistances-d.LZMA.kEndPosModelIndex);this.isMatch=new Uint16Array(d.LZMA.kNumStates<<d.LZMA.kNumPosBitsMax);this.isRep=new Uint16Array(d.LZMA.kNumStates);this.isRepG0=new Uint16Array(d.LZMA.kNumStates);this.isRepG1=new Uint16Array(d.LZMA.kNumStates);this.isRepG2=
new Uint16Array(d.LZMA.kNumStates);this.isRep0Long=new Uint16Array(d.LZMA.kNumStates<<d.LZMA.kNumPosBitsMax);this.lenDecoder=new d.LenDecoder;this.repLenDecoder=new d.LenDecoder;this.rangeDec=new d.RangeDecoder;this.outWindow=new d.OutWindow}a.prototype.init=function(){this.loc1=b.getUint32()|0;this.loc2=b.getUint32()|0;this.matchBitI=b.getUint16()|0;this.matchByteI=b.getUint16()|0;this.bitI=b.getUint16()|0;this.symbolI=b.getUint16()|0;this.prevByteI=b.getUint16()|0;this.litStateI=b.getUint16()|0;
this.initLiterals();this.initDist();d.LZMA.INIT_PROBS(this.isMatch);d.LZMA.INIT_PROBS(this.isRep);d.LZMA.INIT_PROBS(this.isRepG0);d.LZMA.INIT_PROBS(this.isRepG1);d.LZMA.INIT_PROBS(this.isRepG2);d.LZMA.INIT_PROBS(this.isRep0Long);this.lenDecoder.init();this.repLenDecoder.init()};a.prototype.create=function(){this.outWindow.create(this.dictSize);this.createLiterals()};a.prototype.createLiterals=function(){this.litProbs=new Uint16Array(768<<this.lc+this.lp)};a.prototype.initLiterals=function(){for(var c=
768<<this.lc+this.lp,a=0;a<c;a++)this.litProbs[a]=d.LZMA.PROB_INIT_VAL};a.prototype.decodeLiteral=function(c,a){b.u16[this.prevByteI]=0;this.outWindow.isEmpty()||(b.u16[this.prevByteI]=this.outWindow.getByte(1));b.u16[this.symbolI]=1;b.u16[this.litStateI]=((this.outWindow.totalPos&(1<<this.lp)-1)<<this.lc)+(b.u16[this.prevByteI]>>>8-this.lc);var g=768*b.u16[this.litStateI]|0;if(7<=c){b.u16[this.matchByteI]=this.outWindow.getByte(a+1);do if(b.u16[this.matchBitI]=b.u16[this.matchByteI]>>>7&1,b.u16[this.matchByteI]<<=
1,b.u16[this.bitI]=this.rangeDec.decodeBit(this.litProbs,g+(1+b.u16[this.matchBitI]<<8)+b.u16[this.symbolI]),b.u16[this.symbolI]=b.u16[this.symbolI]<<1|b.u16[this.bitI],b.u16[this.matchBitI]!=b.u16[this.bitI])break;while(256>b.u16[this.symbolI])}for(;256>b.u16[this.symbolI];)b.u16[this.symbolI]=b.u16[this.symbolI]<<1|this.rangeDec.decodeBit(this.litProbs,g+b.u16[this.symbolI]);this.outWindow.putByte(b.u16[this.symbolI]-256)};a.prototype.decodeDistance=function(c){c>d.LZMA.kNumLenToPosStates-1&&(c=
d.LZMA.kNumLenToPosStates-1);c=this.posSlotDecoder[c].decode(this.rangeDec);if(4>c)return c;var a=(c>>>1)-1;b.u32[this.loc1]=(2|c&1)<<a;c<d.LZMA.kEndPosModelIndex?b.u32[this.loc1]+=d.LZMA.BitTreeReverseDecode(this.posDecoders,a,this.rangeDec,b.u32[this.loc1]-c):(b.u32[this.loc1]+=this.rangeDec.decodeDirectBits(a-d.LZMA.kNumAlignBits)<<d.LZMA.kNumAlignBits,b.u32[this.loc1]+=this.alignDecoder.reverseDecode(this.rangeDec));return b.u32[this.loc1]};a.prototype.initDist=function(){for(var c=0;c<d.LZMA.kNumLenToPosStates;c++)this.posSlotDecoder[c].init();
this.alignDecoder.init();d.LZMA.INIT_PROBS(this.posDecoders)};a.prototype.decodeProperties=function(c){var a=new Uint8Array(4);a[0]=c[0];if(225<=a[0])throw"Incorrect LZMA properties";a[1]=a[0]%9;a[0]/=9;a[2]=a[0]/5;a[3]=a[0]%5;this.lc=a[1];this.pb=a[2];this.lp=a[3];for(a=this.dictSizeInProperties=0;4>a;a++)this.dictSizeInProperties|=c[a+1]<<8*a;this.dictSize=this.dictSizeInProperties;this.dictSize<d.LZMA.LZMA_DIC_MIN&&(this.dictSize=d.LZMA.LZMA_DIC_MIN)};a.prototype.updateState_Literal=function(a){return 4>
a?0:10>a?a-3:a-6};a.prototype.updateState_ShortRep=function(a){return 7>a?9:11};a.prototype.updateState_Rep=function(a){return 7>a?8:11};a.prototype.updateState_Match=function(a){return 7>a?7:10};a.prototype.decode=function(a,e){this.init();this.rangeDec.init();a&&(this.outWindow.outStream=new Uint8Array(new ArrayBuffer(e)));for(var g=0,b=0,m=0,l=0,k=0;;){if(a&&0==e&&!this.markerIsMandatory&&this.rangeDec.isFinishedOK())return d.LZMA.LZMA_RES_FINISHED_WITHOUT_MARKER;var n=this.outWindow.totalPos&
(1<<this.pb)-1;if(0==this.rangeDec.decodeBit(this.isMatch,(k<<d.LZMA.kNumPosBitsMax)+n)){if(a&&0==e)return d.LZMA.LZMA_RES_ERROR;this.decodeLiteral(k,g);k=this.updateState_Literal(k);e--}else{if(0!=this.rangeDec.decodeBit(this.isRep,k)){if(a&&0==e||this.outWindow.isEmpty())return d.LZMA.LZMA_RES_ERROR;if(0==this.rangeDec.decodeBit(this.isRepG0,k)){if(0==this.rangeDec.decodeBit(this.isRep0Long,(k<<d.LZMA.kNumPosBitsMax)+n)){k=this.updateState_ShortRep(k);this.outWindow.putByte(this.outWindow.getByte(g+
1));e--;continue}}else{var p;0==this.rangeDec.decodeBit(this.isRepG1,k)?p=b:(0==this.rangeDec.decodeBit(this.isRepG2,k)?p=m:(p=l,l=m),m=b);b=g;g=p}n=this.repLenDecoder.decode(this.rangeDec,n);k=this.updateState_Rep(k)}else{l=m;m=b;b=g;n=this.lenDecoder.decode(this.rangeDec,n);k=this.updateState_Match(k);g=this.decodeDistance(n);if(4294967295==g)return this.rangeDec.isFinishedOK()?d.LZMA.LZMA_RES_FINISHED_WITH_MARKER:d.LZMA.LZMA_RES_ERROR;if(a&&0==e||g>=this.dictSize||!this.outWindow.checkDistance(g))return d.LZMA.LZMA_RES_ERROR}n+=
d.LZMA.kMatchMinLen;p=!1;a&&e<n&&(n=e,p=!0);this.outWindow.copyMatch(g+1,n);e-=n;if(p)return d.LZMA.LZMA_RES_ERROR}}};return a}();d.LzmaDecoder=m})(nid||(nid={}));
(function(d){var b=function(){function b(){this.decoder=new d.LzmaDecoder}b.INIT_PROBS=function(a){for(var c=0;c<a.length;c++)a[c]=this.PROB_INIT_VAL};b.BitTreeReverseDecode=function(a,c,e,g){"undefined"===typeof g&&(g=0);for(var b=1,d=0,m=0;m<c;m++)var k=e.decodeBit(a,g+b),b=b<<1,b=b+k,d=d|k<<m;return d};b.prototype.decode=function(a){this.data=a;var c=new Uint8Array(13),e;for(e=0;13>e;e++)c[e]=a[e];this.decoder.decodeProperties(c);console.log("\nlc="+this.decoder.lc+", lp="+this.decoder.lp+", pb="+
this.decoder.pb);console.log("\nDictionary Size in properties = "+this.decoder.dictSizeInProperties);console.log("\nDictionary Size for decoding  = "+this.decoder.dictSize);var g=0,d=!1;for(e=0;8>e;e++){var h=c[5+e];255!=h&&(d=!0);g|=h<<8*e}this.decoder.markerIsMandatory=!d;console.log("\n");d?console.log("Uncompressed Size : "+g+" bytes"):console.log("End marker is expected\n");this.decoder.rangeDec.inStream=a;console.log("\n");this.decoder.create();a=this.decoder.decode(d,g);console.log("Read    ",
this.decoder.rangeDec.in_pos);console.log("Written ",this.decoder.outWindow.out_pos);if(a==b.LZMA_RES_ERROR)throw"LZMA decoding error";if(a==b.LZMA_RES_FINISHED_WITHOUT_MARKER)console.log("Finished without end marker");else if(a==b.LZMA_RES_FINISHED_WITH_MARKER){if(d){if(this.decoder.outWindow.out_pos!=g)throw"Finished with end marker before than specified size";console.log("Warning: ")}console.log("Finished with end marker")}else throw"Internal Error";console.log("\n");this.decoder.rangeDec.corrupted&&
console.log("\nWarning: LZMA stream is corrupted\n");return this.decoder.outWindow.outStream};b.LZMA_DIC_MIN=4096;b.LZMA_RES_ERROR=0;b.LZMA_RES_FINISHED_WITH_MARKER=1;b.LZMA_RES_FINISHED_WITHOUT_MARKER=2;b.kNumBitModelTotalBits=11;b.kNumMoveBits=5;b.PROB_INIT_VAL=(1<<b.kNumBitModelTotalBits)/2;b.kNumPosBitsMax=4;b.kNumStates=12;b.kNumLenToPosStates=4;b.kNumAlignBits=4;b.kStartPosModelIndex=4;b.kEndPosModelIndex=14;b.kNumFullDistances=1<<(b.kEndPosModelIndex>>>1);b.kMatchMinLen=2;return b}();d.LZMA=
b})(nid||(nid={}));(function(d){var b=d.LZMA,m=function(){function a(){this.command=0;var a=this;this.decoder=new b;addEventListener("message",function(e){0==a.command?a.command=e.data:1==a.command?a.command=0:2==a.command&&a.decode(e.data)},!1)}a.prototype.decode=function(c){c=this.decoder.decode(new Uint8Array(c));postMessage(a.DECODE);postMessage(c.buffer,[c.buffer])};a.ENCODE=1;a.DECODE=2;return a}();d.LZMAWorker=m})(nid||(nid={}));var w=new nid.LZMAWorker;
(function(d){(function(b){var m=d.LZMA,a=function(){function a(){}a.init=function(){var e=0;a.decoderAsync.onmessage=function(g){0==e?e=g.data:e==a.ENCODE?e=0:e==a.DECODE&&(e=0,a.callback(g.data),a.callback=null)}};a.encode=function(a){return null};a.decode=function(e){return a.decoder.decode(new Uint8Array(e)).buffer};a.encodeAsync=function(a,c){};a.decodeAsync=function(e,g){null==a.callback?(a.callback=g,a.decoderAsync.postMessage(a.DECODE),a.decoderAsync.postMessage(e,[e])):console.log("Warning! Another LZMA decoding is running...")};
a.decoder=new m;a.decoderAsync=new Worker("LZMAWorker.min.js");a.ENCODE=1;a.DECODE=2;return a}();b.LZMAHelper=a})(d.utils||(d.utils={}))})(nid||(nid={}));nid.utils.LZMAHelper.init();
(function(d){var b=function(){function b(){this.out_pos=0}b.prototype.create=function(a){this.buf=new Uint8Array(a);this.pos=0;this.size=a;this.isFull=!1;this.totalPos=0};b.prototype.putByte=function(a){this.totalPos++;this.buf[this.pos++]=a;this.pos==this.size&&(this.pos=0,this.isFull=!0);this.outStream[this.out_pos++]=a};b.prototype.getByte=function(a){return this.buf[a<=this.pos?this.pos-a:this.size-a+this.pos]};b.prototype.copyMatch=function(a,c){for(;0<c;c--)this.putByte(this.getByte(a))};b.prototype.checkDistance=
function(a){return a<=this.pos||this.isFull};b.prototype.isEmpty=function(){return 0==this.pos&&!this.isFull};return b}();d.OutWindow=b})(nid||(nid={}));
(function(d){var b=function(){function b(){this.rangeI=0;this.codeI=1;this.loc1=2;this.loc2=3;this.in_pos=13}b.prototype.isFinishedOK=function(){return 0==this.U32[this.codeI]};b.prototype.init=function(){this.U32=new Uint32Array(4);this.U16=new Uint16Array(4);this.corrupted=!1;0!=this.inStream[this.in_pos++]&&(this.corrupted=!0);this.U32[this.rangeI]=4294967295;for(var a=this.U32[this.codeI]=0;4>a;a++)this.U32[this.codeI]=this.U32[this.codeI]<<8|this.inStream[this.in_pos++];this.U32[this.codeI]==
this.U32[this.rangeI]&&(this.corrupted=!0)};b.prototype.normalize=function(){this.U32[this.rangeI]<b.kTopValue&&(this.U32[this.rangeI]<<=8,this.U32[this.codeI]=this.U32[this.codeI]<<8|this.inStream[this.in_pos++])};b.prototype.decodeDirectBits=function(a){this.U32[this.loc1]=0;do this.U32[this.rangeI]>>>=1,this.U32[this.codeI]-=this.U32[this.rangeI],this.U32[this.loc2]=0-(this.U32[this.codeI]>>>31),this.U32[this.codeI]+=this.U32[this.rangeI]&this.U32[this.loc2],this.U32[this.codeI]==this.U32[this.rangeI]&&
(this.corrupted=!0),this.normalize(),this.U32[this.loc1]<<=1,this.U32[this.loc1]+=this.U32[this.loc2]+1;while(--a);return this.U32[this.loc1]};b.prototype.decodeBit=function(a,c){this.U16[0]=a[c];this.U32[2]=(this.U32[0]>>>11)*this.U16[0];this.U32[1]<this.U32[2]?(this.U16[0]+=2048-this.U16[0]>>>5,this.U32[0]=this.U32[2],this.U16[1]=0):(this.U16[0]-=this.U16[0]>>>5,this.U32[1]-=this.U32[2],this.U32[0]-=this.U32[2],this.U16[1]=1);a[c]=this.U16[0];16777216>this.U32[0]&&(this.U32[0]<<=8,this.U32[1]=this.U32[1]<<
8|this.inStream[this.in_pos++]);return this.U16[1]};b.kTopValue=16777216;return b}();d.RangeDecoder=b})(nid||(nid={}));
(function(d){var b=function(){function b(a){this.numBits=a;this.probs=new Uint16Array(1<<this.numBits)}b.prototype.init=function(){d.LZMA.INIT_PROBS(this.probs)};b.prototype.decode=function(a){for(var c=1,e=0;e<this.numBits;e++)c=(c<<1)+a.decodeBit(this.probs,c);return c-(1<<this.numBits)};b.prototype.reverseDecode=function(a){return d.LZMA.BitTreeReverseDecode(this.probs,this.numBits,a)};b.constructArray=function(a,c){for(var e=[],g=0;g<c;g++)e[g]=new b(a);return e};return b}();d.BitTreeDecoder=
b})(nid||(nid={}));
(function(d){var b=function(){function b(){this.lowCoder=d.BitTreeDecoder.constructArray(3,1<<d.LZMA.kNumPosBitsMax);this.midCoder=d.BitTreeDecoder.constructArray(3,1<<d.LZMA.kNumPosBitsMax);this.highCoder=new d.BitTreeDecoder(8)}b.prototype.init=function(){this.choice=[d.LZMA.PROB_INIT_VAL,d.LZMA.PROB_INIT_VAL];this.highCoder.init();for(var a=0;a<1<<d.LZMA.kNumPosBitsMax;a++)this.lowCoder[a].init(),this.midCoder[a].init()};b.prototype.decode=function(a,c){return 0==a.decodeBit(this.choice,0)?this.lowCoder[c].decode(a):
0==a.decodeBit(this.choice,1)?8+this.midCoder[c].decode(a):16+this.highCoder.decode(a)};return b}();d.LenDecoder=b})(nid||(nid={}));(function(d){(function(b){var d=function(){function a(){}a.DEFLATE="deflate";a.LZMA="lzma";a.ZLIB="zlib";return a}();b.CompressionAlgorithm=d})(d.utils||(d.utils={}))})(nid||(nid={}));
(function(d){(function(b){var d=function(){function a(c,e){"undefined"===typeof e&&(e=0);this.BUFFER_EXT_SIZE=1024;this.offset=0;this.EOF_code_point=this.EOF_byte=-1;"undefined"===typeof c?(c=new ArrayBuffer(this.BUFFER_EXT_SIZE),this.write_position=0):this.write_position=c.byteLength;this.data=new DataView(c);this._position=0;this.offset=e;this.endian=a.BIG_ENDIAN}Object.defineProperty(a.prototype,"buffer",{get:function(){return this.data.buffer},set:function(a){this.data=new DataView(a)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"dataView",{get:function(){return this.data},set:function(a){this.data=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"position",{get:function(){return this._position+this.offset},set:function(a){this._position<a&&!this.validate(this._position-a)||(this._position=a,this.write_position=a>this.write_position?a:this.write_position)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this.write_position},
set:function(a){this.validateBuffer(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bytesAvailable",{get:function(){return this.data.byteLength-this.position},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._position=0};a.prototype.compress=function(a){"undefined"===typeof a&&(a=b.CompressionAlgorithm.LZMA);if(a!=b.CompressionAlgorithm.LZMA)throw{name:"Compression error!",message:a+" not implemented",errorID:0};};a.prototype.uncompress=function(a){"undefined"===
typeof a&&(a=b.CompressionAlgorithm.LZMA);if(a==b.CompressionAlgorithm.LZMA)try{this.buffer=b.LZMAHelper.decode(this.buffer)}catch(e){throw{name:"Uncompression error!",message:e.message,errorID:0};}else throw{name:"Uncompression error!",message:a+" not implemented",errorID:0};};a.prototype.compressAsync=function(a,e){if(a!=b.CompressionAlgorithm.LZMA)throw{name:"Compression error!",message:a+" not implemented",errorID:0};};a.prototype.uncompressAsync=function(a,e){"undefined"===typeof a&&(a=b.CompressionAlgorithm.LZMA);
"undefined"===typeof e&&(e=null);if(a==b.CompressionAlgorithm.LZMA)b.LZMAHelper.decodeAsync(this.buffer,function(a){this.buffer=a});else throw{name:"Uncompression error!",message:a+" not implemented",errorID:0};};a.prototype.deflate=function(){};a.prototype.inflate=function(){};a.prototype.readBoolean=function(){return this.validate(a.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):null};a.prototype.readByte=function(){return this.validate(a.SIZE_OF_INT8)?this.data.getInt8(this.position++):
null};a.prototype.readBytes=function(a,e,b){"undefined"===typeof b&&(b=0);this.validate(b)&&(e=new DataView(this.data.buffer,this.position,b),this.position+=b,a.dataView=e)};a.prototype.readDouble=function(){if(!this.validate(a.SIZE_OF_FLOAT64))return null;var c=this.data.getFloat64(this.position);this.position+=a.SIZE_OF_FLOAT64;return c};a.prototype.readFloat=function(){if(!this.validate(a.SIZE_OF_FLOAT32))return null;var c=this.data.getFloat32(this.position);this.position+=a.SIZE_OF_FLOAT32;return c};
a.prototype.readInt=function(){if(!this.validate(a.SIZE_OF_INT32))return null;var c=this.data.getInt32(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT32;return c};a.prototype.readMultiByte=function(a,e){return this.validate(a)?"":null};a.prototype.readObject=function(){return null};a.prototype.readShort=function(){if(!this.validate(a.SIZE_OF_INT16))return null;var c=this.data.getInt16(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT16;return c};a.prototype.readUnsignedByte=
function(){return this.validate(a.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null};a.prototype.readUnsignedInt=function(){if(!this.validate(a.SIZE_OF_UINT32))return null;var c=this.data.getUint32(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT32;return c};a.prototype.readUnsignedShort=function(){if(!this.validate(a.SIZE_OF_UINT16))return null;var c=this.data.getUint16(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT16;return c};a.prototype.readUTF=
function(){if(!this.validate(a.SIZE_OF_UINT16))return null;var c=this.data.getUint16(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT16;return 0<c?this.readUTFBytes(c):""};a.prototype.readUTFBytes=function(a){if(!this.validate(a))return null;for(var e=new Uint8Array(new ArrayBuffer(a)),b=0;b<a;b++)e[b]=this.data.getUint8(this.position++);return this.decodeUTF8(e)};a.prototype.writeBoolean=function(c){this.validateBuffer(a.SIZE_OF_BOOLEAN);this.data.setUint8(this.position++,
c?1:0)};a.prototype.writeByte=function(c){this.validateBuffer(a.SIZE_OF_INT8);this.data.setInt8(this.position++,c)};a.prototype.writeUnsignedByte=function(c){this.validateBuffer(a.SIZE_OF_UINT8);this.data.setUint8(this.position++,c)};a.prototype.writeBytes=function(a,e,b){"undefined"===typeof b&&(b=0);this.validateBuffer(b);e=new DataView(a.buffer);for(b=0;b<a.length;b++)this.data.setUint8(this.position++,e.getUint8(b))};a.prototype.writeDouble=function(c){this.validateBuffer(a.SIZE_OF_FLOAT64);this.data.setFloat64(this.position,
c,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_FLOAT64};a.prototype.writeFloat=function(c){this.validateBuffer(a.SIZE_OF_FLOAT32);this.data.setFloat32(this.position,c,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_FLOAT32};a.prototype.writeInt=function(c){this.validateBuffer(a.SIZE_OF_INT32);this.data.setInt32(this.position,c,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT32};a.prototype.writeMultiByte=function(a,e){};a.prototype.writeObject=function(a){};a.prototype.writeShort=
function(c){this.validateBuffer(a.SIZE_OF_INT16);this.data.setInt16(this.position,c,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT16};a.prototype.writeUnsignedShort=function(c){this.validateBuffer(a.SIZE_OF_UINT16);this.data.setUint16(this.position,c,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT16};a.prototype.writeUnsignedInt=function(c){this.validateBuffer(a.SIZE_OF_UINT32);this.data.setUint32(this.position,c,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT32};
a.prototype.writeUTF=function(c){c=this.encodeUTF8(c);var e=c.length;this.validateBuffer(a.SIZE_OF_UINT16+e);this.data.setUint16(this.position,e,this.endian===a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT16;this.writeUint8Array(c)};a.prototype.writeUTFBytes=function(a){this.writeUint8Array(this.encodeUTF8(a))};a.prototype.toString=function(){return"[ByteArray]"};a.prototype.writeUint8Array=function(a){this.validateBuffer(this.position+a.length);for(var e=0;e<a.length;e++)this.data.setUint8(this.position++,
a[e])};a.prototype.writeUint16Array=function(c){this.validateBuffer(this.position+c.length);for(var e=0;e<c.length;e++)this.data.setUint16(this.position,c[e],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT16};a.prototype.writeUint32Array=function(c){this.validateBuffer(this.position+c.length);for(var e=0;e<c.length;e++)this.data.setUint32(this.position,c[e],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT32};a.prototype.writeInt8Array=function(a){this.validateBuffer(this.position+
a.length);for(var e=0;e<a.length;e++)this.data.setInt8(this.position++,a[e])};a.prototype.writeInt16Array=function(c){this.validateBuffer(this.position+c.length);for(var e=0;e<c.length;e++)this.data.setInt16(this.position,c[e],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT16};a.prototype.writeInt32Array=function(c){this.validateBuffer(this.position+c.length);for(var e=0;e<c.length;e++)this.data.setInt32(this.position,c[e],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT32};
a.prototype.writeFloat32Array=function(c){this.validateBuffer(this.position+c.length);for(var e=0;e<c.length;e++)this.data.setFloat32(this.position,c[e],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT32};a.prototype.writeFloat64Array=function(c){this.validateBuffer(this.position+c.length);for(var e=0;e<c.length;e++)this.data.setFloat64(this.position,c[e],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT64};a.prototype.readUint8Array=function(c){if(!this.validate(c))return null;
for(var e=new Uint8Array(new ArrayBuffer(c)),b=0;b<c;b++)e[b]=this.data.getUint8(this.position),this.position+=a.SIZE_OF_UINT8;return e};a.prototype.readUint16Array=function(c){var e=c*a.SIZE_OF_UINT16;if(!this.validate(e))return null;for(var e=new Uint16Array(new ArrayBuffer(e)),b=0;b<c;b++)e[b]=this.data.getUint16(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT16;return e};a.prototype.readUint32Array=function(c){var e=c*a.SIZE_OF_UINT32;if(!this.validate(e))return null;
for(var e=new Uint32Array(new ArrayBuffer(e)),b=0;b<c;b++)e[b]=this.data.getUint32(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT32;return e};a.prototype.readInt8Array=function(c){if(!this.validate(c))return null;for(var b=new Int8Array(new ArrayBuffer(c)),d=0;d<c;d++)b[d]=this.data.getInt8(this.position),this.position+=a.SIZE_OF_INT8;return b};a.prototype.readInt16Array=function(c){var b=c*a.SIZE_OF_INT16;if(!this.validate(b))return null;for(var b=new Int16Array(new ArrayBuffer(b)),
d=0;d<c;d++)b[d]=this.data.getInt16(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT16;return b};a.prototype.readInt32Array=function(c){var b=c*a.SIZE_OF_INT32;if(!this.validate(b))return null;for(var b=new Int32Array(new ArrayBuffer(b)),d=0;d<c;d++)b[d]=this.data.getInt32(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT32;return b};a.prototype.readFloat32Array=function(c){var b=c*a.SIZE_OF_FLOAT32;if(!this.validate(b))return null;for(var b=new Float32Array(new ArrayBuffer(b)),
d=0;d<c;d++)b[d]=this.data.getFloat32(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT32;return b};a.prototype.readFloat64Array=function(c){var b=c*a.SIZE_OF_FLOAT64;if(!this.validate(b))return null;for(var b=new Float64Array(new ArrayBuffer(b)),d=0;d<c;d++)b[d]=this.data.getFloat64(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT64;return b};a.prototype.validate=function(a){a+=this.offset;if(0<this.data.byteLength&&this._position+a<=this.data.byteLength)return!0;
throw{name:"Error",message:"Error #2030: End of file was encountered.",errorID:2030};};a.prototype.validateBuffer=function(a){this.write_position=a>this.write_position?a:this.write_position;this.data.byteLength<a&&(a=new Uint8Array(new ArrayBuffer(a+this.BUFFER_EXT_SIZE)),a.set(new Uint8Array(this.data.buffer)),this.data.buffer=a.buffer)};a.prototype.encodeUTF8=function(a){var b=0;a=this.stringToCodePoints(a);for(var d=[];a.length>b;){var f=a[b++];if(this.inRange(f,55296,57343))this.encoderError(f);
else if(this.inRange(f,0,127))d.push(f);else{var h,l;this.inRange(f,128,2047)?(h=1,l=192):this.inRange(f,2048,65535)?(h=2,l=224):this.inRange(f,65536,1114111)&&(h=3,l=240);for(d.push(this.div(f,Math.pow(64,h))+l);0<h;){var k=this.div(f,Math.pow(64,h-1));d.push(128+k%64);h-=1}}}return new Uint8Array(d)};a.prototype.decodeUTF8=function(a){for(var b=0,d="",f,h=0,l=0,k=0,n=0;a.length>b;){f=a[b++];if(f===this.EOF_byte)f=0!==l?this.decoderError(!1):this.EOF_code_point;else if(0===l)this.inRange(f,0,127)||
(this.inRange(f,194,223)?(l=1,n=128,h=f-192):this.inRange(f,224,239)?(l=2,n=2048,h=f-224):this.inRange(f,240,244)?(l=3,n=65536,h=f-240):this.decoderError(!1),h*=Math.pow(64,l),f=null);else if(this.inRange(f,128,191))if(k+=1,h+=(f-128)*Math.pow(64,l-k),k!==l)f=null;else{var m=h,q=n,n=k=l=h=0;f=this.inRange(m,q,1114111)&&!this.inRange(m,55296,57343)?m:this.decoderError(!1,f)}else n=k=l=h=0,b--,f=this.decoderError(!1,f);null!==f&&f!==this.EOF_code_point&&(65535>=f?0<f&&(d+=String.fromCharCode(f)):(f-=
65536,d+=String.fromCharCode(55296+(f>>10&1023)),d+=String.fromCharCode(56320+(f&1023))))}return d};a.prototype.encoderError=function(a){throw{name:"EncodingError",message:"The code point "+a+" could not be encoded.",errorID:0};};a.prototype.decoderError=function(a,b){if(a)throw{name:"DecodingError",message:"DecodingError.",errorID:0};return b||65533};a.prototype.inRange=function(a,b,d){return b<=a&&a<=d};a.prototype.div=function(a,b){return Math.floor(a/b)};a.prototype.stringToCodePoints=function(a){for(var b=
[],d=0,f=a.length;d<a.length;){var h=a.charCodeAt(d);if(this.inRange(h,55296,57343))if(this.inRange(h,56320,57343))b.push(65533);else if(d===f-1)b.push(65533);else{var l=a.charCodeAt(d+1);this.inRange(l,56320,57343)?(h&=1023,l&=1023,d+=1,b.push(65536+(h<<10)+l)):b.push(65533)}else b.push(h);d+=1}return b};a.BIG_ENDIAN="bigEndian";a.LITTLE_ENDIAN="littleEndian";a.SIZE_OF_BOOLEAN=1;a.SIZE_OF_INT8=1;a.SIZE_OF_INT16=2;a.SIZE_OF_INT32=4;a.SIZE_OF_UINT8=1;a.SIZE_OF_UINT16=2;a.SIZE_OF_UINT32=4;a.SIZE_OF_FLOAT32=
4;a.SIZE_OF_FLOAT64=8;return a}();b.ByteArray=d})(d.utils||(d.utils={}))})(nid||(nid={}));
