var ctypes;(function(c){var d=function(){function c(b,l){this.low=b;this.high=l}c.prototype.value=function(){return this.high<<32|this.low};return c}();c.Uint64=d})(ctypes||(ctypes={}));(function(c){var d=function(){function c(b,l){this.low=b;this.high=l}c.prototype.value=function(){return this.high<<32|this.low};return c}();c.Int64=d})(ctypes||(ctypes={}));var nid;
(function(c){(function(c){var h=function(){function b(){}b.allocateUint8=function(c){b.u8=new Uint8Array(c)};b.allocateUint16=function(c){b.u16=new Uint16Array(c)};b.allocateUint32=function(c){b.u32=new Uint32Array(c)};b.getUint8=function(){b.u8||b.allocateUint8(10);return b.u8Index++};b.getUint16=function(){b.u16||b.allocateUint16(24);return b.u16Index++};b.getUint32=function(){b.u32||b.allocateUint32(10);return b.u32Index++};b.u8Index=0;b.u16Index=0;b.u32Index=0;return b}();c.MEMORY=h})(c.utils||
(c.utils={}))})(nid||(nid={}));
(function(c){var d=c.utils.MEMORY,h=function(){function b(){this.posSlotDecoder=c.BitTreeDecoder.constructArray(6,c.LZMA.kNumLenToPosStates);this.alignDecoder=new c.BitTreeDecoder(c.LZMA.kNumAlignBits);this.posDecoders=new Uint16Array(1+c.LZMA.kNumFullDistances-c.LZMA.kEndPosModelIndex);this.isMatch=new Uint16Array(c.LZMA.kNumStates<<c.LZMA.kNumPosBitsMax);this.isRep=new Uint16Array(c.LZMA.kNumStates);this.isRepG0=new Uint16Array(c.LZMA.kNumStates);this.isRepG1=new Uint16Array(c.LZMA.kNumStates);this.isRepG2=
new Uint16Array(c.LZMA.kNumStates);this.isRep0Long=new Uint16Array(c.LZMA.kNumStates<<c.LZMA.kNumPosBitsMax);this.lenDecoder=new c.LenDecoder;this.repLenDecoder=new c.LenDecoder;this.rangeDec=new c.RangeDecoder;this.outWindow=new c.OutWindow}b.prototype.init=function(){this.loc1=d.getUint32()|0;this.loc2=d.getUint32()|0;this.matchBitI=d.getUint16()|0;this.matchByteI=d.getUint16()|0;this.bitI=d.getUint16()|0;this.symbolI=d.getUint16()|0;this.prevByteI=d.getUint16()|0;this.litStateI=d.getUint16()|0;
this.initLiterals();this.initDist();c.LZMA.INIT_PROBS(this.isMatch);c.LZMA.INIT_PROBS(this.isRep);c.LZMA.INIT_PROBS(this.isRepG0);c.LZMA.INIT_PROBS(this.isRepG1);c.LZMA.INIT_PROBS(this.isRepG2);c.LZMA.INIT_PROBS(this.isRep0Long);this.lenDecoder.init();this.repLenDecoder.init()};b.prototype.create=function(){this.outWindow.create(this.dictSize);this.createLiterals()};b.prototype.createLiterals=function(){this.litProbs=new Uint16Array(768<<this.lc+this.lp)};b.prototype.initLiterals=function(){for(var b=
768<<this.lc+this.lp,a=0;a<b;a++)this.litProbs[a]=c.LZMA.PROB_INIT_VAL};b.prototype.decodeLiteral=function(b,a){d.u16[this.prevByteI]=0;this.outWindow.isEmpty()||(d.u16[this.prevByteI]=this.outWindow.getByte(1));d.u16[this.symbolI]=1;d.u16[this.litStateI]=((this.outWindow.totalPos&(1<<this.lp)-1)<<this.lc)+(d.u16[this.prevByteI]>>>8-this.lc);var e=768*d.u16[this.litStateI]|0;if(7<=b){d.u16[this.matchByteI]=this.outWindow.getByte(a+1);do if(d.u16[this.matchBitI]=d.u16[this.matchByteI]>>>7&1,d.u16[this.matchByteI]<<=
1,d.u16[this.bitI]=this.rangeDec.decodeBit(this.litProbs,e+(1+d.u16[this.matchBitI]<<8)+d.u16[this.symbolI]),d.u16[this.symbolI]=d.u16[this.symbolI]<<1|d.u16[this.bitI],d.u16[this.matchBitI]!=d.u16[this.bitI])break;while(256>d.u16[this.symbolI])}for(;256>d.u16[this.symbolI];)d.u16[this.symbolI]=d.u16[this.symbolI]<<1|this.rangeDec.decodeBit(this.litProbs,e+d.u16[this.symbolI]);this.outWindow.putByte(d.u16[this.symbolI]-256)};b.prototype.decodeDistance=function(b){b>c.LZMA.kNumLenToPosStates-1&&(b=
c.LZMA.kNumLenToPosStates-1);b=this.posSlotDecoder[b].decode(this.rangeDec);if(4>b)return b;var a=(b>>>1)-1;d.u32[this.loc1]=(2|b&1)<<a;b<c.LZMA.kEndPosModelIndex?d.u32[this.loc1]+=c.LZMA.BitTreeReverseDecode(this.posDecoders,a,this.rangeDec,d.u32[this.loc1]-b):(d.u32[this.loc1]+=this.rangeDec.decodeDirectBits(a-c.LZMA.kNumAlignBits)<<c.LZMA.kNumAlignBits,d.u32[this.loc1]+=this.alignDecoder.reverseDecode(this.rangeDec));return d.u32[this.loc1]};b.prototype.initDist=function(){for(var b=0;b<c.LZMA.kNumLenToPosStates;b++)this.posSlotDecoder[b].init();
this.alignDecoder.init();c.LZMA.INIT_PROBS(this.posDecoders)};b.prototype.decodeProperties=function(b){var a=new Uint8Array(4);a[0]=b[0];if(225<=a[0])throw"Incorrect LZMA properties";a[1]=a[0]%9;a[0]/=9;a[2]=a[0]/5;a[3]=a[0]%5;this.lc=a[1];this.pb=a[2];this.lp=a[3];for(a=this.dictSizeInProperties=0;4>a;a++)this.dictSizeInProperties|=b[a+1]<<8*a;this.dictSize=this.dictSizeInProperties;this.dictSize<c.LZMA.LZMA_DIC_MIN&&(this.dictSize=c.LZMA.LZMA_DIC_MIN)};b.prototype.updateState_Literal=function(b){return 4>
b?0:10>b?b-3:b-6};b.prototype.updateState_ShortRep=function(b){return 7>b?9:11};b.prototype.updateState_Rep=function(b){return 7>b?8:11};b.prototype.updateState_Match=function(b){return 7>b?7:10};b.prototype.decode=function(b,a){this.init();this.rangeDec.init();b&&(this.outWindow.outStream=new Uint8Array(new ArrayBuffer(a)));for(var e=0,k=0,m=0,h=0,d=0;;){if(b&&0==a&&!this.markerIsMandatory&&this.rangeDec.isFinishedOK())return c.LZMA.LZMA_RES_FINISHED_WITHOUT_MARKER;var f=this.outWindow.totalPos&
(1<<this.pb)-1;if(0==this.rangeDec.decodeBit(this.isMatch,(d<<c.LZMA.kNumPosBitsMax)+f)){if(b&&0==a)return c.LZMA.LZMA_RES_ERROR;this.decodeLiteral(d,e);d=this.updateState_Literal(d);a--}else{if(0!=this.rangeDec.decodeBit(this.isRep,d)){if(b&&0==a||this.outWindow.isEmpty())return c.LZMA.LZMA_RES_ERROR;if(0==this.rangeDec.decodeBit(this.isRepG0,d)){if(0==this.rangeDec.decodeBit(this.isRep0Long,(d<<c.LZMA.kNumPosBitsMax)+f)){d=this.updateState_ShortRep(d);this.outWindow.putByte(this.outWindow.getByte(e+
1));a--;continue}}else{var n;0==this.rangeDec.decodeBit(this.isRepG1,d)?n=k:(0==this.rangeDec.decodeBit(this.isRepG2,d)?n=m:(n=h,h=m),m=k);k=e;e=n}f=this.repLenDecoder.decode(this.rangeDec,f);d=this.updateState_Rep(d)}else{h=m;m=k;k=e;f=this.lenDecoder.decode(this.rangeDec,f);d=this.updateState_Match(d);e=this.decodeDistance(f);if(4294967295==e)return this.rangeDec.isFinishedOK()?c.LZMA.LZMA_RES_FINISHED_WITH_MARKER:c.LZMA.LZMA_RES_ERROR;if(b&&0==a||e>=this.dictSize||!this.outWindow.checkDistance(e))return c.LZMA.LZMA_RES_ERROR}f+=
c.LZMA.kMatchMinLen;n=!1;b&&a<f&&(f=a,n=!0);this.outWindow.copyMatch(e+1,f);a-=f;if(n)return c.LZMA.LZMA_RES_ERROR}}};return b}();c.LzmaDecoder=h})(nid||(nid={}));
(function(c){var d=function(){function d(){this.decoder=new c.LzmaDecoder}d.INIT_PROBS=function(b){for(var c=0;c<b.length;c++)b[c]=this.PROB_INIT_VAL};d.BitTreeReverseDecode=function(b,c,a,e){"undefined"===typeof e&&(e=0);for(var k=1,d=0,h=0;h<c;h++)var g=a.decodeBit(b,e+k),k=k<<1,k=k+g,d=d|g<<h;return d};d.prototype.decode=function(b){this.data=b;var c=new Uint8Array(13),a;for(a=0;13>a;a++)c[a]=b[a];this.decoder.decodeProperties(c);console.log("\nlc="+this.decoder.lc+", lp="+this.decoder.lp+", pb="+
this.decoder.pb);console.log("\nDictionary Size in properties = "+this.decoder.dictSizeInProperties);console.log("\nDictionary Size for decoding  = "+this.decoder.dictSize);var e=0,k=!1;for(a=0;8>a;a++){var m=c[5+a];255!=m&&(k=!0);e|=m<<8*a}this.decoder.markerIsMandatory=!k;console.log("\n");k?console.log("Uncompressed Size : "+e+" bytes"):console.log("End marker is expected\n");this.decoder.rangeDec.inStream=b;console.log("\n");this.decoder.create();b=this.decoder.decode(k,e);console.log("Read    ",
this.decoder.rangeDec.in_pos);console.log("Written ",this.decoder.outWindow.out_pos);if(b==d.LZMA_RES_ERROR)throw"LZMA decoding error";if(b==d.LZMA_RES_FINISHED_WITHOUT_MARKER)console.log("Finished without end marker");else if(b==d.LZMA_RES_FINISHED_WITH_MARKER){if(k){if(this.decoder.outWindow.out_pos!=e)throw"Finished with end marker before than specified size";console.log("Warning: ")}console.log("Finished with end marker")}else throw"Internal Error";console.log("\n");this.decoder.rangeDec.corrupted&&
console.log("\nWarning: LZMA stream is corrupted\n");return this.decoder.outWindow.outStream};d.LZMA_DIC_MIN=4096;d.LZMA_RES_ERROR=0;d.LZMA_RES_FINISHED_WITH_MARKER=1;d.LZMA_RES_FINISHED_WITHOUT_MARKER=2;d.kNumBitModelTotalBits=11;d.kNumMoveBits=5;d.PROB_INIT_VAL=(1<<d.kNumBitModelTotalBits)/2;d.kNumPosBitsMax=4;d.kNumStates=12;d.kNumLenToPosStates=4;d.kNumAlignBits=4;d.kStartPosModelIndex=4;d.kEndPosModelIndex=14;d.kNumFullDistances=1<<(d.kEndPosModelIndex>>>1);d.kMatchMinLen=2;return d}();c.LZMA=
d})(nid||(nid={}));(function(c){var d=function(){function d(){this.command=0;var b=this;this.decoder=new c.LZMA;addEventListener("message",function(c){0==b.command?b.command=c.data:1==b.command?b.command=0:2==b.command&&b.decode(c.data)},!1)}d.prototype.decode=function(b){b=this.decoder.decode(new Uint8Array(b));postMessage(d.DECODE);postMessage(b.buffer,[b.buffer])};d.ENCODE=1;d.DECODE=2;return d}();c.LZMAWorker=d})(nid||(nid={}));var w=new nid.LZMAWorker;
(function(c){(function(d){var h=c.LZMA,b=function(){function b(){}b.init=function(){var a=0;b.decoderAsync.onmessage=function(e){0==a?a=e.data:a==b.ENCODE?a=0:a==b.DECODE&&(a=0,b.callback(e.data),b.callback=null)}};b.encode=function(a){return null};b.decode=function(a){return b.decoder.decode(new Uint8Array(a)).buffer};b.encodeAsync=function(a,e){};b.decodeAsync=function(a,e){null==b.callback?(b.callback=e,b.decoderAsync.postMessage(b.DECODE),b.decoderAsync.postMessage(a,[a])):console.log("Warning! Another LZMA decoding is running...")};
b.decoder=new h;b.decoderAsync=new Worker("LZMAWorker.min.js");b.ENCODE=1;b.DECODE=2;return b}();d.LZMAHelper=b})(c.utils||(c.utils={}))})(nid||(nid={}));nid.utils.LZMAHelper.init();
(function(c){var d=function(){function c(){this.out_pos=0}c.prototype.create=function(b){this.buf=new Uint8Array(b);this.pos=0;this.size=b;this.isFull=!1;this.totalPos=0};c.prototype.putByte=function(b){this.totalPos++;this.buf[this.pos++]=b;this.pos==this.size&&(this.pos=0,this.isFull=!0);this.outStream[this.out_pos++]=b};c.prototype.getByte=function(b){return this.buf[b<=this.pos?this.pos-b:this.size-b+this.pos]};c.prototype.copyMatch=function(b,c){for(;0<c;c--)this.putByte(this.getByte(b))};c.prototype.checkDistance=
function(b){return b<=this.pos||this.isFull};c.prototype.isEmpty=function(){return 0==this.pos&&!this.isFull};return c}();c.OutWindow=d})(nid||(nid={}));
(function(c){var d=function(){function c(){this.rangeI=0;this.codeI=1;this.loc1=2;this.loc2=3;this.in_pos=13}c.prototype.isFinishedOK=function(){return 0==this.U32[this.codeI]};c.prototype.init=function(){this.U32=new Uint32Array(4);this.U16=new Uint16Array(4);this.corrupted=!1;0!=this.inStream[this.in_pos++]&&(this.corrupted=!0);this.U32[this.rangeI]=4294967295;for(var b=this.U32[this.codeI]=0;4>b;b++)this.U32[this.codeI]=this.U32[this.codeI]<<8|this.inStream[this.in_pos++];this.U32[this.codeI]==
this.U32[this.rangeI]&&(this.corrupted=!0)};c.prototype.normalize=function(){this.U32[this.rangeI]<c.kTopValue&&(this.U32[this.rangeI]<<=8,this.U32[this.codeI]=this.U32[this.codeI]<<8|this.inStream[this.in_pos++])};c.prototype.decodeDirectBits=function(b){this.U32[this.loc1]=0;do this.U32[this.rangeI]>>>=1,this.U32[this.codeI]-=this.U32[this.rangeI],this.U32[this.loc2]=0-(this.U32[this.codeI]>>>31),this.U32[this.codeI]+=this.U32[this.rangeI]&this.U32[this.loc2],this.U32[this.codeI]==this.U32[this.rangeI]&&
(this.corrupted=!0),this.normalize(),this.U32[this.loc1]<<=1,this.U32[this.loc1]+=this.U32[this.loc2]+1;while(--b);return this.U32[this.loc1]};c.prototype.decodeBit=function(b,c){this.U16[0]=b[c];this.U32[2]=(this.U32[0]>>>11)*this.U16[0];this.U32[1]<this.U32[2]?(this.U16[0]+=2048-this.U16[0]>>>5,this.U32[0]=this.U32[2],this.U16[1]=0):(this.U16[0]-=this.U16[0]>>>5,this.U32[1]-=this.U32[2],this.U32[0]-=this.U32[2],this.U16[1]=1);b[c]=this.U16[0];16777216>this.U32[0]&&(this.U32[0]<<=8,this.U32[1]=this.U32[1]<<
8|this.inStream[this.in_pos++]);return this.U16[1]};c.kTopValue=16777216;return c}();c.RangeDecoder=d})(nid||(nid={}));
(function(c){var d=function(){function d(b){this.numBits=b;this.probs=new Uint16Array(1<<this.numBits)}d.prototype.init=function(){c.LZMA.INIT_PROBS(this.probs)};d.prototype.decode=function(b){for(var c=1,a=0;a<this.numBits;a++)c=(c<<1)+b.decodeBit(this.probs,c);return c-(1<<this.numBits)};d.prototype.reverseDecode=function(b){return c.LZMA.BitTreeReverseDecode(this.probs,this.numBits,b)};d.constructArray=function(b,c){for(var a=[],e=0;e<c;e++)a[e]=new d(b);return a};return d}();c.BitTreeDecoder=
d})(nid||(nid={}));
(function(c){var d=function(){function d(){this.lowCoder=c.BitTreeDecoder.constructArray(3,1<<c.LZMA.kNumPosBitsMax);this.midCoder=c.BitTreeDecoder.constructArray(3,1<<c.LZMA.kNumPosBitsMax);this.highCoder=new c.BitTreeDecoder(8)}d.prototype.init=function(){this.choice=[c.LZMA.PROB_INIT_VAL,c.LZMA.PROB_INIT_VAL];this.highCoder.init();for(var b=0;b<1<<c.LZMA.kNumPosBitsMax;b++)this.lowCoder[b].init(),this.midCoder[b].init()};d.prototype.decode=function(b,c){return 0==b.decodeBit(this.choice,0)?this.lowCoder[c].decode(b):
0==b.decodeBit(this.choice,1)?8+this.midCoder[c].decode(b):16+this.highCoder.decode(b)};return d}();c.LenDecoder=d})(nid||(nid={}));(function(c){(function(c){var h=function(){function b(){}b.DEFLATE="deflate";b.LZMA="lzma";b.ZLIB="zlib";return b}();c.CompressionAlgorithm=h})(c.utils||(c.utils={}))})(nid||(nid={}));
(function(c){(function(d){var h=ctypes.Uint64,b=ctypes.Int64,l=function(){function a(e,b){"undefined"===typeof b&&(b=0);this.BUFFER_EXT_SIZE=1024;this.offset=0;this.EOF_code_point=this.EOF_byte=-1;"undefined"===typeof e?(e=new ArrayBuffer(this.BUFFER_EXT_SIZE),this.write_position=0):this.write_position=e.byteLength;this.data=new DataView(e);this._position=0;this.offset=b;this.endian=a.BIG_ENDIAN}Object.defineProperty(a.prototype,"buffer",{get:function(){return this.data.buffer},set:function(a){this.data=
new DataView(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"dataView",{get:function(){return this.data},set:function(a){this.data=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"position",{get:function(){return this._position+this.offset},set:function(a){this._position<a&&!this.validate(this._position-a)||(this._position=a,this.write_position=a>this.write_position?a:this.write_position)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"length",{get:function(){return this.write_position},set:function(a){this.validateBuffer(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bytesAvailable",{get:function(){return this.data.byteLength-this.position},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._position=0};a.prototype.compress=function(a){"undefined"===typeof a&&(a=c.utils.CompressionAlgorithm.LZMA);if(a!=c.utils.CompressionAlgorithm.LZMA)throw{name:"Compression error!",message:a+" not implemented",
errorID:0};};a.prototype.uncompress=function(a){"undefined"===typeof a&&(a=c.utils.CompressionAlgorithm.LZMA);if(a==c.utils.CompressionAlgorithm.LZMA)try{this.buffer=c.utils.LZMAHelper.decode(this.buffer)}catch(b){throw{name:"Uncompression error!",message:b.message,errorID:0};}else throw{name:"Uncompression error!",message:a+" not implemented",errorID:0};};a.prototype.compressAsync=function(a,b){if(a!=c.utils.CompressionAlgorithm.LZMA)throw{name:"Compression error!",message:a+" not implemented",errorID:0};
};a.prototype.uncompressAsync=function(a,b){"undefined"===typeof a&&(a=c.utils.CompressionAlgorithm.LZMA);"undefined"===typeof b&&(b=null);if(a==c.utils.CompressionAlgorithm.LZMA)c.utils.LZMAHelper.decodeAsync(this.buffer,function(a){this.buffer=a});else throw{name:"Uncompression error!",message:a+" not implemented",errorID:0};};a.prototype.deflate=function(){};a.prototype.inflate=function(){};a.prototype.readBoolean=function(){return this.validate(a.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):
null};a.prototype.readByte=function(){return this.validate(a.SIZE_OF_INT8)?this.data.getInt8(this.position++):null};a.prototype.readBytes=function(a,b,c){"undefined"===typeof c&&(c=0);this.validate(c)&&(b=new DataView(this.data.buffer,this.position,c),this.position+=c,a.dataView=b)};a.prototype.readDouble=function(){if(!this.validate(a.SIZE_OF_FLOAT64))return null;var b=this.data.getFloat64(this.position);this.position+=a.SIZE_OF_FLOAT64;return b};a.prototype.readFloat=function(){if(!this.validate(a.SIZE_OF_FLOAT32))return null;
var b=this.data.getFloat32(this.position);this.position+=a.SIZE_OF_FLOAT32;return b};a.prototype.readInt=function(){if(!this.validate(a.SIZE_OF_INT32))return null;var b=this.data.getInt32(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT32;return b};a.prototype.readInt64=function(){if(!this.validate(a.SIZE_OF_UINT32))return null;var e=this.data.getInt32(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT32;var c=this.data.getInt32(this.position,this.endian==
a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT32;return new b(e,c)};a.prototype.readMultiByte=function(a,b){return this.validate(a)?"":null};a.prototype.readObject=function(){return null};a.prototype.readShort=function(){if(!this.validate(a.SIZE_OF_INT16))return null;var b=this.data.getInt16(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT16;return b};a.prototype.readUnsignedByte=function(){return this.validate(a.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null};a.prototype.readUnsignedInt=
function(){if(!this.validate(a.SIZE_OF_UINT32))return null;var b=this.data.getUint32(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT32;return b};a.prototype.readUnsignedInt64=function(){if(!this.validate(a.SIZE_OF_UINT32))return null;var b=this.data.getUint32(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT32;var c=this.data.getUint32(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT32;return new h(b,c)};a.prototype.readUnsignedShort=
function(){if(!this.validate(a.SIZE_OF_UINT16))return null;var b=this.data.getUint16(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT16;return b};a.prototype.readUTF=function(){if(!this.validate(a.SIZE_OF_UINT16))return null;var b=this.data.getUint16(this.position,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT16;return 0<b?this.readUTFBytes(b):""};a.prototype.readUTFBytes=function(a){if(!this.validate(a))return null;for(var b=new Uint8Array(new ArrayBuffer(a)),
c=0;c<a;c++)b[c]=this.data.getUint8(this.position++);return this.decodeUTF8(b)};a.prototype.writeBoolean=function(b){this.validateBuffer(a.SIZE_OF_BOOLEAN);this.data.setUint8(this.position++,b?1:0)};a.prototype.writeByte=function(b){this.validateBuffer(a.SIZE_OF_INT8);this.data.setInt8(this.position++,b)};a.prototype.writeUnsignedByte=function(b){this.validateBuffer(a.SIZE_OF_UINT8);this.data.setUint8(this.position++,b)};a.prototype.writeBytes=function(a,b,c){"undefined"===typeof c&&(c=0);this.validateBuffer(c);
b=new DataView(a.buffer);for(c=0;c<a.length;c++)this.data.setUint8(this.position++,b.getUint8(c))};a.prototype.writeDouble=function(b){this.validateBuffer(a.SIZE_OF_FLOAT64);this.data.setFloat64(this.position,b,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_FLOAT64};a.prototype.writeFloat=function(b){this.validateBuffer(a.SIZE_OF_FLOAT32);this.data.setFloat32(this.position,b,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_FLOAT32};a.prototype.writeInt=function(b){this.validateBuffer(a.SIZE_OF_INT32);
this.data.setInt32(this.position,b,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT32};a.prototype.writeMultiByte=function(a,b){};a.prototype.writeObject=function(a){};a.prototype.writeShort=function(b){this.validateBuffer(a.SIZE_OF_INT16);this.data.setInt16(this.position,b,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_INT16};a.prototype.writeUnsignedShort=function(b){this.validateBuffer(a.SIZE_OF_UINT16);this.data.setUint16(this.position,b,this.endian==a.LITTLE_ENDIAN);this.position+=
a.SIZE_OF_UINT16};a.prototype.writeUnsignedInt=function(b){this.validateBuffer(a.SIZE_OF_UINT32);this.data.setUint32(this.position,b,this.endian==a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT32};a.prototype.writeUTF=function(b){b=this.encodeUTF8(b);var c=b.length;this.validateBuffer(a.SIZE_OF_UINT16+c);this.data.setUint16(this.position,c,this.endian===a.LITTLE_ENDIAN);this.position+=a.SIZE_OF_UINT16;this.writeUint8Array(b)};a.prototype.writeUTFBytes=function(a){this.writeUint8Array(this.encodeUTF8(a))};
a.prototype.toString=function(){return"[ByteArray]"};a.prototype.writeUint8Array=function(a){this.validateBuffer(this.position+a.length);for(var b=0;b<a.length;b++)this.data.setUint8(this.position++,a[b])};a.prototype.writeUint16Array=function(b){this.validateBuffer(this.position+b.length);for(var c=0;c<b.length;c++)this.data.setUint16(this.position,b[c],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT16};a.prototype.writeUint32Array=function(b){this.validateBuffer(this.position+b.length);
for(var c=0;c<b.length;c++)this.data.setUint32(this.position,b[c],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT32};a.prototype.writeInt8Array=function(a){this.validateBuffer(this.position+a.length);for(var b=0;b<a.length;b++)this.data.setInt8(this.position++,a[b])};a.prototype.writeInt16Array=function(b){this.validateBuffer(this.position+b.length);for(var c=0;c<b.length;c++)this.data.setInt16(this.position,b[c],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT16};a.prototype.writeInt32Array=
function(b){this.validateBuffer(this.position+b.length);for(var c=0;c<b.length;c++)this.data.setInt32(this.position,b[c],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT32};a.prototype.writeFloat32Array=function(b){this.validateBuffer(this.position+b.length);for(var c=0;c<b.length;c++)this.data.setFloat32(this.position,b[c],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT32};a.prototype.writeFloat64Array=function(b){this.validateBuffer(this.position+b.length);for(var c=0;c<
b.length;c++)this.data.setFloat64(this.position,b[c],this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT64};a.prototype.readUint8Array=function(b){if(!this.validate(b))return null;for(var c=new Uint8Array(new ArrayBuffer(b)),d=0;d<b;d++)c[d]=this.data.getUint8(this.position),this.position+=a.SIZE_OF_UINT8;return c};a.prototype.readUint16Array=function(b){var c=b*a.SIZE_OF_UINT16;if(!this.validate(c))return null;for(var c=new Uint16Array(new ArrayBuffer(c)),d=0;d<b;d++)c[d]=this.data.getUint16(this.position,
this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT16;return c};a.prototype.readUint32Array=function(b){var c=b*a.SIZE_OF_UINT32;if(!this.validate(c))return null;for(var c=new Uint32Array(new ArrayBuffer(c)),d=0;d<b;d++)c[d]=this.data.getUint32(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_UINT32;return c};a.prototype.readInt8Array=function(b){if(!this.validate(b))return null;for(var c=new Int8Array(new ArrayBuffer(b)),d=0;d<b;d++)c[d]=this.data.getInt8(this.position),
this.position+=a.SIZE_OF_INT8;return c};a.prototype.readInt16Array=function(b){var c=b*a.SIZE_OF_INT16;if(!this.validate(c))return null;for(var c=new Int16Array(new ArrayBuffer(c)),d=0;d<b;d++)c[d]=this.data.getInt16(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT16;return c};a.prototype.readInt32Array=function(b){var c=b*a.SIZE_OF_INT32;if(!this.validate(c))return null;for(var c=new Int32Array(new ArrayBuffer(c)),d=0;d<b;d++)c[d]=this.data.getInt32(this.position,this.endian===
a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_INT32;return c};a.prototype.readFloat32Array=function(b){var c=b*a.SIZE_OF_FLOAT32;if(!this.validate(c))return null;for(var c=new Float32Array(new ArrayBuffer(c)),d=0;d<b;d++)c[d]=this.data.getFloat32(this.position,this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT32;return c};a.prototype.readFloat64Array=function(b){var c=b*a.SIZE_OF_FLOAT64;if(!this.validate(c))return null;for(var c=new Float64Array(new ArrayBuffer(c)),d=0;d<b;d++)c[d]=this.data.getFloat64(this.position,
this.endian===a.LITTLE_ENDIAN),this.position+=a.SIZE_OF_FLOAT64;return c};a.prototype.validate=function(a){a+=this.offset;if(0<this.data.byteLength&&this._position+a<=this.data.byteLength)return!0;throw{name:"Error",message:"Error #2030: End of file was encountered.",errorID:2030};};a.prototype.validateBuffer=function(a){this.write_position=a>this.write_position?a:this.write_position;this.data.byteLength<a&&(a=new Uint8Array(new ArrayBuffer(a+this.BUFFER_EXT_SIZE)),a.set(new Uint8Array(this.data.buffer)),
this.data.buffer=a.buffer)};a.prototype.encodeUTF8=function(a){var b=0;a=this.stringToCodePoints(a);for(var c=[];a.length>b;){var d=a[b++];if(this.inRange(d,55296,57343))this.encoderError(d);else if(this.inRange(d,0,127))c.push(d);else{var g,f;this.inRange(d,128,2047)?(g=1,f=192):this.inRange(d,2048,65535)?(g=2,f=224):this.inRange(d,65536,1114111)&&(g=3,f=240);for(c.push(this.div(d,Math.pow(64,g))+f);0<g;){var h=this.div(d,Math.pow(64,g-1));c.push(128+h%64);g-=1}}}return new Uint8Array(c)};a.prototype.decodeUTF8=
function(a){for(var b=0,c="",d,g=0,f=0,h=0,p=0;a.length>b;){d=a[b++];if(d===this.EOF_byte)d=0!==f?this.decoderError(!1):this.EOF_code_point;else if(0===f)this.inRange(d,0,127)||(this.inRange(d,194,223)?(f=1,p=128,g=d-192):this.inRange(d,224,239)?(f=2,p=2048,g=d-224):this.inRange(d,240,244)?(f=3,p=65536,g=d-240):this.decoderError(!1),g*=Math.pow(64,f),d=null);else if(this.inRange(d,128,191))if(h+=1,g+=(d-128)*Math.pow(64,f-h),h!==f)d=null;else{var l=g,q=p,p=h=f=g=0;d=this.inRange(l,q,1114111)&&!this.inRange(l,
55296,57343)?l:this.decoderError(!1,d)}else p=h=f=g=0,b--,d=this.decoderError(!1,d);null!==d&&d!==this.EOF_code_point&&(65535>=d?0<d&&(c+=String.fromCharCode(d)):(d-=65536,c+=String.fromCharCode(55296+(d>>10&1023)),c+=String.fromCharCode(56320+(d&1023))))}return c};a.prototype.encoderError=function(a){throw{name:"EncodingError",message:"The code point "+a+" could not be encoded.",errorID:0};};a.prototype.decoderError=function(a,b){if(a)throw{name:"DecodingError",message:"DecodingError.",errorID:0};
return b||65533};a.prototype.inRange=function(a,b,c){return b<=a&&a<=c};a.prototype.div=function(a,b){return Math.floor(a/b)};a.prototype.stringToCodePoints=function(a){for(var b=[],c=0,d=a.length;c<a.length;){var g=a.charCodeAt(c);if(this.inRange(g,55296,57343))if(this.inRange(g,56320,57343))b.push(65533);else if(c===d-1)b.push(65533);else{var f=a.charCodeAt(c+1);this.inRange(f,56320,57343)?(g&=1023,f&=1023,c+=1,b.push(65536+(g<<10)+f)):b.push(65533)}else b.push(g);c+=1}return b};a.BIG_ENDIAN="bigEndian";
a.LITTLE_ENDIAN="littleEndian";a.SIZE_OF_BOOLEAN=1;a.SIZE_OF_INT8=1;a.SIZE_OF_INT16=2;a.SIZE_OF_INT32=4;a.SIZE_OF_UINT8=1;a.SIZE_OF_UINT16=2;a.SIZE_OF_UINT32=4;a.SIZE_OF_FLOAT32=4;a.SIZE_OF_FLOAT64=8;return a}();d.ByteArray=l})(c.utils||(c.utils={}))})(nid||(nid={}));
